\documentclass[11pt]{beamer}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{lmodern}
\usepackage{tikz}
\usepackage{graphicx}
\usetheme{Madrid}
\usepackage[normalem]{ulem}
\usepackage[absolute,overlay]{textpos}
\usepackage{listings}
\usepackage{courier} 

\setbeamertemplate{navigation symbols}{}
%\setbeamertemplate{footline}[frame number]
\title[Main Title]{Main Title: very very extremely long title}
\subtitle{subtitle}
\author[k4iyer, ssasy, j3tracey]{K. Iyer \and S. Sasy \and J. Tracey}
\institute[]{Cheriton School of Computer Science}
\date{}

%\AtBeginSubsection[]
%{
%  \begin{frame}<beamer>{Outline}
%    \tableofcontents[currentsection,currentsubsection]
%  \end{frame}
%}


\newcommand*\circled[1]{\tikz[baseline=(char.base)]{
            \node[shape=circle,draw,inner sep=2pt] (char) {#1};}}

\begin{document}

\begin{frame}
  \titlepage
\end{frame}

\begin{frame}{Presentation Outline}
 	\begin{itemize}
          \vfill
        \item Types of Capabilities
          \vfill
        \item Capabilities in OSs
          \vfill
        \item Capabilities in Userspace
          \vfill
        \item Experiment Results
          \vfill
        \end{itemize}
\end{frame}

\begin{frame}{Types of Capabilities}
\begin{enumerate}
          \vfill
    \item{tagged with bits}
          \vfill
    \item{tagged with type system}
          \vfill
    \item{segregated}
          \vfill
    \item{password/sparse}
          \vfill
\end{enumerate}
\end{frame}

\begin{frame}{Types of Capabilities: The Roles}
  \begin{figure}[!h]
    \centering
    \begin{tikzpicture}
      \node (auth)[label=authority] at (0,0) {\includegraphics[scale=.025]{gavel.jpg}};
      \node (client)[label=client] at (-4,-4) {\includegraphics[scale=.15]{client.jpg}};
      \node (obj)[label=object] at (4,-4) {\includegraphics[scale=.075]{resource.jpg}};
    \end{tikzpicture}
  \end{figure}
\end{frame}

\begin{frame}{Types of Capabilities: Tagged with Bits}
  \begin{figure}[!h]
    \centering
    \begin{tikzpicture}
      \node (auth)[label=authority] at (0,0) {\includegraphics[scale=.025]{gavel.jpg}};
      \node (client)[label=client] at (-4,-4) {\includegraphics[scale=.15]{client.jpg}};
      \node (obj)[label=object] at (4,-4) {\includegraphics[scale=.075]{resource.jpg}};

      \draw[transform canvas={yshift=1.0ex}, draw=purple, very thick, <-] (auth) -- (client) node[above, left, midway] {?};
      \draw[transform canvas={yshift=-1.0ex}, draw=purple, very thick, ->] (auth) -- (client) node[below, right, midway] {\circled{T}};
      \draw[draw=purple, very thick, ->] (client) -- (obj) node[above, midway] {\circled{T}};
    \end{tikzpicture}
  \end{figure}
\end{frame}

\begin{frame}{Types of Capabilities: Tagged with Type System}
  \begin{figure}[!h]
    \centering
    \begin{tikzpicture}
      \node (auth)[label=authority] at (0,0) {\includegraphics[scale=.025]{gavel.jpg}};
      \node (client)[label=client] at (-4,-4) {\includegraphics[scale=.15]{client.jpg}};
      \node (obj)[label=object] at (4,-4) {\includegraphics[scale=.075]{resource.jpg}};

      \draw[transform canvas={yshift=1.0ex}, draw=purple, very thick, <-] (auth) -- (client) node[above, left, midway] {?};
      \draw[transform canvas={yshift=-1.0ex}, draw=purple, very thick, ->] (auth) -- (client) node[below, right, midway] {*};
      \draw[draw=purple, very thick, ->] (auth) -- (obj) node[above, right, midway] {\circled{C}};
      \draw[draw=purple, very thick, ->] (client) -- (obj) node[above, midway] {*};
    \end{tikzpicture}
  \end{figure}
\end{frame}


\begin{frame}{Types of Capabilities: Segregated}
  \begin{figure}[!h]
    \centering
    \begin{tikzpicture}
      \node (auth)[label=authority] at (0,0) {\includegraphics[scale=.025]{gavel.jpg}};
      \node (client)[label=client] at (-4,-4) {\includegraphics[scale=.15]{client.jpg}};
      \node (obj)[label=object] at (4,-4) {\includegraphics[scale=.075]{resource.jpg}};
      \node (book) at (1.5,0) {\includegraphics[scale=0.05]{alice.jpg}};

      \draw[draw=purple, very thick, <-] (auth) -- (client) node[above, left, midway] {``Alice''};
      \draw[draw=purple, very thick, ->] (auth) -- (obj) node[above, right, midway] {``Alice''};
    \end{tikzpicture}
  \end{figure}
\end{frame}

\begin{frame}{Types of Capabilities: Segregated}
  \begin{figure}[!h]
    \centering
    \begin{tikzpicture}
      \node (auth)[label=authority] at (0,0) {\includegraphics[scale=.025]{gavel.jpg}};
      \node (client)[label=client] at (-4,-4) {\includegraphics[scale=.15]{client.jpg}};
      \node (obj)[label=object] at (4,-4) {\includegraphics[scale=.075]{resource.jpg}};

      \draw[draw=purple, very thick, <-] (auth) -- (client) node[above, left, midway] {``passw0rd''};
      \draw[draw=purple, very thick, ->] (auth) -- (obj) node[above, right, midway] {``Alice''};
    \end{tikzpicture}
  \end{figure}
\end{frame}

\begin{frame}{Capabilities in OSs}
  \vfill
  A more in-depth look at two of these OSs:
  	\begin{itemize}
          \vfill
	\item L4
	\item Barrelfish
          \vfill
	\end{itemize}
\end{frame}

\begin{frame}{Capabilities in OSs: L4}

  	\begin{itemize}
          \vfill
	\item family of microkernels
          \vfill
	\item some use or are built on capabilities
          \vfill
        \item e.g. OKL4, Fiasco.OC, seL4
          \vfill
	\end{itemize}
\end{frame}

\begin{frame}{Capabilities in OSs: seL4}
  \vfill
  We focus on seL4 as the most relevant.
  \begin{itemize}
    \vfill
  \item first formally verified general-purpose OS
    \vfill
  \item minimizes kernel objects
    \vfill
  \item all kernel services managed using capabilities
    \vfill
  \end{itemize}
\end{frame}

\begin{frame}{Capabilities in OSs: seL4}
  The available kernel objects are categorized into:
  \begin{itemize}
    \vfill
  \item capabilities (CNodes, CSpaces)
    \vfill
  \item object/memory management (untyped $\rightarrow$ retyped)
    \vfill
  \item virtual address space management (VSpace, platform-dependant)
    \begin{itemize}
    \item e.g. IA32: Page Directory $\rightarrow$ Page Tables $\rightarrow$ Frames
    \end{itemize}
    \vfill
  \item thread management (Thread Control Block, TCB)
    \vfill
  \item inter-process communication (IPC, endpoints)
    \vfill
  \item device I/O management (ports, inturrupts, DMA address space)
    \vfill
  \end{itemize}
\end{frame}

\begin{frame}{Barrelfish: Overview}
	\begin{itemize}
	\item suitable for scalable operating systems 
	\item multi-cores, heterogeneous architectures
	\item similar to the seL4 model, extensions for distributed capability management between cores
	\end{itemize}
\end{frame}


\begin{frame}{Barrelfish: Capabilities}
	\begin{itemize}
	\item kernel objects are referenced by partitioned capabilities
	\item capabilities can be accessed and manipulated by the kernel alone
	\item capability references: user level use system calls to access capabilities
	\end{itemize}
\end{frame}

\begin{frame}{Barrelfish: Capability Types}
\begin{itemize}
\item Main Memory
\item Page Tables 
\item Device Memory
\item Page tables Mapping Memory 
\item Kernel interface
\item Others
\end{itemize}
\end{frame}


\begin{frame}{Capability Operations Interaction}
\begin{figure}
		  \includegraphics[scale=0.25]{img/BL_revoke_retype}
		  \caption{Revoke-Retype-Delete interactions}
		  
    \end{figure}   
\end{frame}

\begin{frame}{Capsicum: Overview}
	\begin{itemize}
	\item API for implementing capabilities on UNIX 
	\item extends (not replace) standard UNIX APIs by adding kernel-level primitives
	\item a sand-boxed capability mode, capability primitives 
	\item as well as libcapsicum and a capability-aware run-time linker
	\end{itemize}
\end{frame}


\begin{frame}{Capsicum: Working}
	\begin{itemize}
	\item Capability mode ($cap_enter$)
	\item $cap_new$ system call
	\item libcapsicum 
	\end{itemize}
\end{frame}

\begin{frame}
	\begin{figure}
%		  \includegraphics[scale=0.25]{img/BL_revoke_retype}
		  \caption{capsicum exmaple}
		  
    \end{figure}  
\end{frame}



\end{document}
